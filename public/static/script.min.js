document.addEventListener('DOMContentLoaded',()=>{function setupCarousel(carouselId){const carousel=document.getElementById(carouselId);const portfolioGrid=carousel.querySelector('.portfolio-grid');const items=carousel.querySelectorAll('.portfolio-item-wrapper');const prevButton=carousel.querySelector('.carousel-button.prev');const nextButton=carousel.querySelector('.carousel-button.next');let currentIndex=0;const itemsPerPage=5;const itemWidth=285;function updateCarousel(){const offset=-currentIndex*itemWidth;portfolioGrid.style.left=`${offset}px`;prevButton.style.display=currentIndex===0?'none':'block';nextButton.style.display=currentIndex>=items.length-itemsPerPage?'none':'block';} prevButton.addEventListener('click',()=>{if(currentIndex>0){currentIndex--;updateCarousel();}});nextButton.addEventListener('click',()=>{if(currentIndex<items.length-itemsPerPage){currentIndex++;updateCarousel();}});items.forEach(item=>{const thumbnail=item.querySelector('.portfolio-thumbnail-container');const details=item.querySelector('.video-and-description-container');const video=details.querySelector('video');const iframe=details.querySelector('iframe');thumbnail.addEventListener('click',()=>{document.querySelectorAll('.portfolio-item-wrapper').forEach(otherItem=>{if(otherItem!==item){const otherDetails=otherItem.querySelector('.video-and-description-container');const otherVideo=otherDetails.querySelector('video');const otherIframe=otherDetails.querySelector('iframe');const otherThumbnail=otherItem.querySelector('.portfolio-thumbnail-container');if(otherVideo){otherVideo.pause();otherVideo.currentTime=0;} if(otherIframe){otherIframe.src=otherIframe.src.replace("?autoplay=1","");} otherItem.classList.remove('expanded');otherThumbnail.style.display='flex';otherDetails.style.display='none';otherItem.style.display='block';}});document.querySelectorAll('.carousel-container').forEach(otherCarousel=>{if(otherCarousel!==carousel){otherCarousel.style.display='none';}});document.querySelectorAll('.carousel-title').forEach(title=>{title.style.display='none';});portfolioGrid.classList.add('expanded-view');carousel.querySelectorAll('.portfolio-item-wrapper').forEach(otherItem=>{if(otherItem!==item){otherItem.style.display='none';}});prevButton.style.display='none';nextButton.style.display='none';item.classList.add('expanded');thumbnail.style.display='none';details.style.display='flex';if(video){video.play();}else if(iframe){iframe.src+="?autoplay=1";}});});updateCarousel();} setupCarousel('reels-carousel');setupCarousel('animations-carousel');setupCarousel('long-videos-carousel');document.querySelectorAll('.portfolio-item-wrapper').forEach(item=>{const titleElement=item.querySelector('.video-title');const thumbnailContainer=item.querySelector('.portfolio-thumbnail-container');if(titleElement&&thumbnailContainer){const title=titleElement.innerHTML;const titleDiv=document.createElement('div');titleDiv.className='thumbnail-title';titleDiv.innerHTML=title;thumbnailContainer.appendChild(titleDiv);}});document.getElementById('backButton').addEventListener('click',function(e){const isExpanded=document.querySelector('.portfolio-item-wrapper.expanded');if(isExpanded){e.preventDefault();document.querySelectorAll('.portfolio-item-wrapper').forEach(item=>{item.classList.remove('expanded');const thumbnail=item.querySelector('.portfolio-thumbnail-container');const details=item.querySelector('.video-and-description-container');const video=details.querySelector('video');const iframe=details.querySelector('iframe');thumbnail.style.display='flex';details.style.display='none';item.style.display='block';if(video){video.pause();video.currentTime=0;}else if(iframe){iframe.src=iframe.src.replace("?autoplay=1","");}});document.querySelectorAll('.carousel-container').forEach(carousel=>{const portfolioGrid=carousel.querySelector('.portfolio-grid');portfolioGrid.classList.remove('expanded-view');carousel.style.display='block';const carouselId=carousel.id;setupCarousel(carouselId);});document.querySelectorAll('.carousel-title').forEach(title=>{title.style.display='block';});}});});